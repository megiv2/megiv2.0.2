<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>megilism v2.0 | akses rahsia</title>
    <script defer src="script.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <style>
      @font-face {
        font-family: 'Glitch';
        src: local('Courier New');
      }

      .glitch {
        font-family: 'Glitch';
        animation: flicker 3s linear forwards;
      }

      @keyframes flicker {
        0% {
          opacity: 0;
          transform: translateX(-10px);
        }
        100% {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .typewriter span {
        display: inline-block;
        animation: blink 1s infinite steps(1, start);
      }

      @keyframes blink {
        50% {
          opacity: 0;
        }
      }
    </style>

    <link
      href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@1,400&display=swap"
      rel="stylesheet"
    />
    <style>
      .font-source {
        font-family: 'Source Code Pro', monospace;
      }
    </style>
  </head>

  <body class="bg-black text-white overflow-hidden">
    <!-- LANDING PAGE -->
    <section
      id="landing"
      class="w-screen h-screen relative flex flex-col justify-center items-center"
    >
      <video
        id="bg-video"
        src="/bg.mp4"
        class="absolute top-0 left-0 w-full h-full object-cover z-0"
        autoplay
        muted
        playsinline
      ></video>
      <div class="z-10 text-center px-4">
        <h1
          class="text-2xl md:text-4xl glitch mb-4 font-source italic"
        >
          megilism v2.0 | akses rahsia
        </h1>
        <p class="mb-4 font-source italic">
          tulis apa saja memori, trauma atau apa yang kau mahu.<br />takkan disimpan,
          terus lenyap dari sini.
        </p>
        <textarea
          class="bg-black bg-opacity-50 border border-gray-600 p-2 rounded-md w-full max-w-md h-24 mb-4"
          placeholder="..."
        ></textarea>
        <button
          id="releaseBtn"
          class="bg-white text-black font-bold py-2 px-4 rounded hover:bg-gray-200"
          onclick="increaseLog()"
        >
          release
        </button>
      </div>
    </section>

    <!-- LOADING SECTION -->
    <section
      id="loading"
      class="w-screen h-screen bg-black hidden flex justify-center items-center"
    >
      <div class="text-center">
        <p class="typewriter text-lg">
          loading<span>.</span><span>.</span><span>.</span>
        </p>
      </div>
    </section>

    <!-- LOG ENTRY SECTION -->
    <section
      id="logEntry"
      class="w-screen h-screen bg-black hidden flex justify-center items-center"
    >
      <p
        id="logText"
        class="text-center text-lg font-mono italic typewriter"
      ></p>
      <audio id="logAudio" src="/KoyakWebsite.mp3"></audio>
    </section>

    <!-- SCRIPT -->
    <script>
      if (!localStorage.getItem('log_counter')) {
        localStorage.setItem('log_counter', 32);
      }

      function increaseLog() {
        let count = parseInt(localStorage.getItem('log_counter'));
        count += 1;
        localStorage.setItem('log_counter', count);

        const message =
          "log entry " +
          String(count).padStart(3, "0") +
          " berjaya dihantar. emosi sedang diproses....";

        document.getElementById("logText").innerText = message;
      }
    </script>
  </body>
</html>
